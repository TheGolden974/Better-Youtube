/* Better YouTube - Liquid Glass Style */

/* Variables pour le système de couleurs liquid glass */
:root {
  --liquid-primary: rgba(0, 122, 255, 0.85);
  --liquid-secondary: rgba(255, 255, 255, 0.12);
  --liquid-tertiary: rgba(255, 255, 255, 0.08);
  --liquid-accent: rgba(88, 86, 214, 0.8);
  --liquid-surface: rgba(255, 255, 255, 0.05);
  --liquid-border: rgba(255, 255, 255, 0.15);
  --liquid-shadow: rgba(0, 0, 0, 0.3);
  --liquid-text: rgba(255, 255, 255, 0.95);
  --liquid-text-secondary: rgba(255, 255, 255, 0.7);
  --blur-intensity: blur(40px);
  --blur-light: blur(20px);
  --backdrop-blur: blur(60px);
}

/* Mode clair */
[light] {
  --liquid-primary: rgba(0, 122, 255, 0.8);
  --liquid-secondary: rgba(0, 0, 0, 0.05);
  --liquid-tertiary: rgba(0, 0, 0, 0.03);
  --liquid-surface: rgba(255, 255, 255, 0.7);
  --liquid-border: rgba(0, 0, 0, 0.1);
  --liquid-shadow: rgba(0, 0, 0, 0.15);
  --liquid-text: rgba(0, 0, 0, 0.9);
  --liquid-text-secondary: rgba(0, 0, 0, 0.6);
}

/* Masquer les éléments originaux */
#chips-wrapper,
ytd-feed-filter-chip-bar-renderer,
#chips,
button[aria-label*="Télécharger"],
button[aria-label*="Download"],
.download-button,
ytd-download-button-renderer,
#download-button,
button[aria-label*="Créer"],
button[aria-label*="Create"],
ytd-topbar-menu-button-renderer[data-button-renderer="create"],
#create-button,
[aria-label="Créer"],
[aria-label="Create"] {
    display: none !important;
}

/* Barre de navigation principale avec effet liquid glass */
#masthead-container {
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
    border-bottom: 1px solid var(--liquid-border) !important;
    box-shadow: 0 8px 32px var(--liquid-shadow) !important;
    position: relative !important;
}

#masthead-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
        var(--liquid-secondary) 0%, 
        var(--liquid-tertiary) 100%) !important;
    pointer-events: none;
    z-index: -1;
}

/* Transformation de la barre de recherche */
#search-form {
    position: relative !important;
    transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

#search-input {
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--blur-light) !important;
    -webkit-backdrop-filter: var(--blur-light) !important;
    border: 1px solid var(--liquid-border) !important;
    border-radius: 20px !important;
    color: var(--liquid-text) !important;
    padding: 12px 20px !important;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1) !important;
}

#search-input:focus {
    transform: scale(1.02) !important;
    border-color: var(--liquid-primary) !important;
    box-shadow: 0 8px 40px rgba(0, 122, 255, 0.3) !important;
    background: var(--liquid-secondary) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
}

/* Bouton de recherche avec effet liquid */
#search-icon-legacy {
    background: var(--liquid-primary) !important;
    border: none !important;
    border-radius: 0 20px 20px 0 !important;
    backdrop-filter: var(--blur-light) !important;
    -webkit-backdrop-filter: var(--blur-light) !important;
    transition: all 0.3s ease !important;
}

#search-icon-legacy:hover {
    background: var(--liquid-accent) !important;
    transform: translateY(-1px) !important;
    box-shadow: 0 6px 20px rgba(88, 86, 214, 0.4) !important;
}

/* Conteneur des boutons personnalisés avec liquid glass */
.custom-filter-buttons {
    display: flex !important;
    gap: 12px !important;
    padding: 16px 24px !important;
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
    border-bottom: 1px solid var(--liquid-border) !important;
    position: sticky !important;
    top: 56px !important;
    z-index: 101 !important;
    box-shadow: 0 4px 24px var(--liquid-shadow) !important;
}

.custom-filter-buttons::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
        var(--liquid-secondary) 0%, 
        var(--liquid-tertiary) 50%,
        var(--liquid-surface) 100%) !important;
    pointer-events: none;
    z-index: -1;
}

/* Boutons avec effet liquid glass */
.custom-filter-btn {
    position: relative !important;
    padding: 12px 24px !important;
    border: 1px solid var(--liquid-border) !important;
    border-radius: 16px !important;
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--blur-light) !important;
    -webkit-backdrop-filter: var(--blur-light) !important;
    color: var(--liquid-text) !important;
    cursor: pointer !important;
    font-size: 14px !important;
    font-weight: 600 !important;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif !important;
    min-width: 80px !important;
    text-align: center !important;
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
    overflow: hidden !important;
    box-shadow: 0 2px 16px rgba(0, 0, 0, 0.1) !important;
}

.custom-filter-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(135deg, 
        var(--liquid-secondary), 
        var(--liquid-tertiary)) !important;
    opacity: 0;
    transition: opacity 0.3s ease !important;
    z-index: -1;
}

/* Effet hover avec animation liquide */
.custom-filter-btn:hover {
    transform: translateY(-2px) scale(1.02) !important;
    border-color: var(--liquid-primary) !important;
    box-shadow: 0 8px 32px rgba(0, 122, 255, 0.3) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
}

.custom-filter-btn:hover::before {
    opacity: 1;
}

/* Bouton actif avec effet liquid glass intense */
.custom-filter-btn.active,
.custom-filter-btn[data-active="true"] {
    background: var(--liquid-primary) !important;
    border-color: var(--liquid-primary) !important;
    color: white !important;
    box-shadow: 0 4px 24px rgba(0, 122, 255, 0.4) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
}

.custom-filter-btn.active::before {
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.2), 
        rgba(255, 255, 255, 0.1)) !important;
    opacity: 1;
}

/* Animation pour les contenus filtrés */
ytd-video-renderer,
ytd-grid-video-renderer,
ytd-compact-video-renderer,
ytd-rich-grid-slim-media-renderer,
ytd-reel-item-renderer {
    transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Sidebar avec effet liquid glass */
#guide-content {
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--blur-light) !important;
    -webkit-backdrop-filter: var(--blur-light) !important;
    border-right: 1px solid var(--liquid-border) !important;
}

/* Effet de survol pour les éléments de la sidebar */
.ytd-guide-entry-renderer:hover {
    background: var(--liquid-secondary) !important;
    border-radius: 12px !important;
    margin: 2px 8px !important;
    backdrop-filter: var(--blur-light) !important;
    -webkit-backdrop-filter: var(--blur-light) !important;
    transition: all 0.3s ease !important;
}

/* Amélioration des vidéos avec effet subtle */
ytd-video-renderer,
ytd-grid-video-renderer {
    border-radius: 12px !important;
    overflow: hidden !important;
    transition: all 0.3s ease !important;
}

ytd-video-renderer:hover,
ytd-grid-video-renderer:hover {
    transform: scale(1.01) !important;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15) !important;
}

/* Effet de pulsation pour les éléments interactifs */
@keyframes liquidPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

.custom-filter-btn:active {
    animation: liquidPulse 0.2s ease-in-out !important;
}

/* Scrollbar avec style liquid */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: var(--liquid-surface);
    border-radius: 4px;
}

::-webkit-scrollbar-thumb {
    background: var(--liquid-secondary);
    border-radius: 4px;
    backdrop-filter: var(--blur-light);
    -webkit-backdrop-filter: var(--blur-light);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--liquid-primary);
}

/* Réglage de la zone frosted-glass */
#frosted-glass.with-chipbar {
    height: 60px !important;
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
}

/* Notifications et tooltips avec liquid glass */
.ytp-tooltip {
    background: var(--liquid-surface) !important;
    backdrop-filter: var(--backdrop-blur) !important;
    -webkit-backdrop-filter: var(--backdrop-blur) !important;
    border: 1px solid var(--liquid-border) !important;
    border-radius: 8px !important;
    color: var(--liquid-text) !important;
    box-shadow: 0 8px 32px var(--liquid-shadow) !important;
}

/* Animation d'entrée pour les nouveaux éléments */
@keyframes liquidFadeIn {
    from {
        opacity: 0;
        transform: translateY(10px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.custom-filter-buttons {
    animation: liquidFadeIn 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
}

/* Responsive pour mobile */
@media (max-width: 768px) {
    .custom-filter-buttons {
        padding: 12px 16px !important;
        gap: 8px !important;
    }
    
    .custom-filter-btn {
        padding: 10px 16px !important;
        font-size: 13px !important;
        min-width: 60px !important;
    }
}

/* Support pour les thèmes sombres/clairs automatiques */
@media (prefers-color-scheme: dark) {
    :root {
        --liquid-primary: rgba(10, 132, 255, 0.9);
        --liquid-secondary: rgba(255, 255, 255, 0.08);
        --liquid-tertiary: rgba(255, 255, 255, 0.05);
        --liquid-surface: rgba(28, 28, 30, 0.8);
        --liquid-border: rgba(255, 255, 255, 0.12);
        --liquid-text: rgba(255, 255, 255, 0.95);
    }
}

@media (prefers-color-scheme: light) {
    :root {
        --liquid-primary: rgba(0, 122, 255, 0.85);
        --liquid-secondary: rgba(0, 0, 0, 0.04);
        --liquid-tertiary: rgba(0, 0, 0, 0.02);
        --liquid-surface: rgba(255, 255, 255, 0.8);
        --liquid-border: rgba(0, 0, 0, 0.08);
        --liquid-text: rgba(0, 0, 0, 0.9);
    }
}
